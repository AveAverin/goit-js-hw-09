{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nlet formData = { email: '', message: '' };\n\nconst form = document.querySelector('.feedback-form');\nconst { email, message } = form.elements;\n\nconst save = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    console.warn('LocalStorage save error:', e);\n  }\n};\n\nconst load = key => {\n  try {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : null;\n  } catch (e) {\n    console.warn('LocalStorage load error:', e);\n    return null;\n  }\n};\n\nconst remove = key => localStorage.removeItem(key);\n\nconst saved = load(STORAGE_KEY);\nif (saved) {\n  Object.entries(saved).forEach(([key, value]) => {\n    if (key in formData && typeof value === 'string') {\n      formData[key] = value;\n      form.elements[key].value = value;\n    }\n  });\n}\n\nform.addEventListener('input', evt => {\n  const { name, value } = evt.target;\n  if (!(name in formData)) return;\n\n  formData[name] = value.trim();\n  save(STORAGE_KEY, formData);\n});\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n\n  const current = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n\n  if (!current.email || !current.message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(current);\n  remove(STORAGE_KEY);\n  formData = { email: '', message: '' };\n  form.reset();\n});"],"names":["STORAGE_KEY","formData","form","email","message","save","key","value","e","load","raw","remove","saved","evt","name","current"],"mappings":"wFAAA,MAAMA,EAAc,sBAEpB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9C,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAK,SAE1BG,EAAO,CAACC,EAAKC,IAAU,CAC3B,GAAI,CACF,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CAChD,OAAQC,EAAG,CACV,QAAQ,KAAK,2BAA4BA,CAAC,CAC3C,CACH,EAEMC,EAAOH,GAAO,CAClB,GAAI,CACF,MAAMI,EAAM,aAAa,QAAQJ,CAAG,EACpC,OAAOI,EAAM,KAAK,MAAMA,CAAG,EAAI,IAChC,OAAQ,EAAG,CACV,eAAQ,KAAK,2BAA4B,CAAC,EACnC,IACR,CACH,EAEMC,EAASL,GAAO,aAAa,WAAWA,CAAG,EAE3CM,EAAQH,EAAKT,CAAW,EAC1BY,GACF,OAAO,QAAQA,CAAK,EAAE,QAAQ,CAAC,CAACN,EAAKC,CAAK,IAAM,CAC1CD,KAAOL,GAAY,OAAOM,GAAU,WACtCN,EAASK,CAAG,EAAIC,EAChBL,EAAK,SAASI,CAAG,EAAE,MAAQC,EAEjC,CAAG,EAGHL,EAAK,iBAAiB,QAASW,GAAO,CACpC,KAAM,CAAE,KAAAC,EAAM,MAAAP,GAAUM,EAAI,OACtBC,KAAQb,IAEdA,EAASa,CAAI,EAAIP,EAAM,KAAI,EAC3BF,EAAKL,EAAaC,CAAQ,EAC5B,CAAC,EAEDC,EAAK,iBAAiB,SAAUW,GAAO,CACrCA,EAAI,eAAc,EAElB,MAAME,EAAU,CACd,MAAOZ,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EAEE,GAAI,CAACW,EAAQ,OAAS,CAACA,EAAQ,QAAS,CACtC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAO,EACnBJ,EAAOX,CAAW,EAClBC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAK,MAAK,CACZ,CAAC"}